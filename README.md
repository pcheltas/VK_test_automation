# VK test automation 
## В двух словах
Представлены автоматические UI тесты для социальной сети Одноклассники с использованием библиотек `Selenide` и `Junit5`, а также паттерна `PageObject`. 

Для хранения учетных данных используется `.env` файл. 

> [!WARNING]
> Отсутствие `.env` файла с данными авторизации ведет к падению всех тестов

## Какие есть тесты? 
Все тестовые классы наследованы от абстрактного класса `BaseTest` для предварительной настройки окружения тестового класса
и приведения в начальное не авторизованное состояние перед каждым тестом для достижения независимости.

### Страница друзей
* Тест на успешное добавление в друзья (с проверкой последующего отображения в списке друзей)

### Страница авторизации
* Тест входа с валидными данными (с проверкой соответствия имени пользователя на главной странице)
* Тест входа с невалидными данными (с проверкой на отображение сообщения ошибки, тестовые данные поставляются с помощью 
`@ParametrizedTest` и `@MethodSource`)

### Главная страница
Тесты, относящиеся к новостям и навигации вынесены в соответствующие `@Nested` классы.
#### 1) Новости
* Тест на наличие ленты (с проверкой количества постов)

#### 2) Навигация
* Тест на корректное отображение текущей страницы в навигации (с проверкой на наличие соответствующего CSS класса `active`.
Реализовано с помощью `TestFactory`)

## Что еще есть?
* Реализована фабрика для получения "ботов" для авторизации. 
* Реализована кастомная аннотация `@BotRequired` для определения необходимости создания бота для теста. Проверка происходит в `@BeforeEach` методе
абстрактного класса `BaseTest`. Аннотация применима как ко всему классу целиком, так и к методам по отдельности.
* Для запуска тестов реализованы лаунчеры, которые используют единый механизм отчетности в реальном времени через кастомный обработчик `CustomTestListener`.
    - `AllTestsLauncher` - для запуска всех тестовых классах в пакете `tests`
    - `ParametrizedTestLauncher` - для запуска тестов заданных классов, передаваемых в аргументах. Если аргументы 
  не указаны, поведение аналогично `AllTestsLauncher` (запуск всех тестов в пакете)
    - `SmokeTestLauncher` - для запуска тестов, помеченных `@Tag("smoke")`

